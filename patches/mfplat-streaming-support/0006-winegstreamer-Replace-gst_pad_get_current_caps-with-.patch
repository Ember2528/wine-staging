From d0b869a25b3924794855379017bf023241397ae8 Mon Sep 17 00:00:00 2001
From: Derek Lesho <dlesho@codeweavers.com>
Date: Tue, 27 Oct 2020 10:18:22 -0500
Subject: [PATCH] winegstreamer: Replace gst_pad_get_current_caps with
 gst_pad_query_caps.

Signed-off-by: Derek Lesho <dlesho@codeweavers.com>
---
 dlls/winegstreamer/media_source.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/dlls/winegstreamer/media_source.c b/dlls/winegstreamer/media_source.c
index 0991710755c..d6c7837e544 100644
--- a/dlls/winegstreamer/media_source.c
+++ b/dlls/winegstreamer/media_source.c
@@ -388,7 +388,7 @@ static const IMFMediaStreamVtbl media_stream_vtbl =
    the user throws at us through gstreamer's caps negotiation. */
 static HRESULT media_stream_connect_to_sink(struct media_stream *stream)
 {
-    GstCaps *source_caps = gst_pad_get_current_caps(stream->their_src);
+    GstCaps *source_caps = gst_pad_query_caps(stream->their_src, NULL);
     const gchar *stream_type;
 
     if (!source_caps)
-- 
2.28.0

